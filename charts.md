
| type        | client message | server message    | room data (delta)                   | remarks                           |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| connect     | userId         | userId            | status: waiting                     | (再)接続通知                       |
|             | userName       | userName          | userIds: [userId]                   |                                   |
|             |                |                   | userInfo: {userName}                |                                   |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| disconnect  | userId         | userId            | userIds: [userId]                   | 切断通知                           |
|             |                | userName          | userIds: []                         | ゲーム中の場合、プレイヤー情報は残す |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| join game   | userId         | userId            | playerIds: [userId]                 | ゲーム参加                         |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| leave game  | userId         | userId            | playerIds: []                       | ゲーム離脱                         |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| ready       | userId         | userId            | playerInfo: {status: ready}         | ゲーム準備                         |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| start game  |                | turnPlayer: id    | [4人の場合]                          | ゲーム開始                         |
|             |                |                   | status: start                       |                                   |
|             |                |                   | phase : quarry                      |                                   |
|             |                |                   | round : 1                           |                                   |
|             |                |                   | turnPlayer : id                     |                                   |
| start game  |                |                   | [2～3人の場合]                       | セットアップ                       |
|             |                |                   | status: start                       |                                   |
|             |                |                   | phase : setup                       |                                   |
|             |                |                   | round : 1                           |                                   |
|             |                |                   | turnPlayer: id                      |                                   |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| remove tile | x, z           | nextPlayer: id    | quarry: 除去                        | タイル除去                         |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| selectTile  | x,y,z          | x,y,z             | x,y,z                               | タイル選択（確定）                  |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| previewTile | x,y,z          | x,y,z             | x,y,z                               | 柱・タイル設置（重たければやめる）   |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| confirm     | [{x,y,z}]      | [{x,y,z}]         | [{x,y,z}]                           | 確定                              |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| decorate    | [{x,y,z,type}] | [{x,y,z,type}]    | [{x,y,z,type}]                      | 装飾確定                           |
| ----------- | -------------- | ----------------- | ----------------------------------- | --------------------------------- |
| round token |                |                   | roundToken: 効果設定                 | ラウンドトークン                   |



| state | userIds     | playerIds  |
| ----- | ----------- | ---------- |
| init  | id          | (none)     | ----> reconnect ---> client: data
|       |             |            |             [in playerId] ---> reconnect notification
| enter | id          | id         | ----> enter ---> 